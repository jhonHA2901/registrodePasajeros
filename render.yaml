services:
  # Backend - Servicio Web (Node.js)
  - type: web
    name: registrop1-backend
    runtime: node
    region: ohio
    plan: free
    rootDir: backend
    buildCommand: "npm install"
    startCommand: "node server.js"
    envVars:
      - key: DATABASE_URL
        fromDatabase:
          name: registrop1-db # Asegúrate que este es el nombre de tu base de datos existente
          property: connectionString

  # Frontend - Sitio Estático (HTML/CSS/JS)
  - type: web # El tipo es 'web' para sitios estáticos
    name: registrop1-frontend
    runtime: static # Y el runtime es 'static'
    region: ohio
    plan: free
    rootDir: frontend
    # No se necesita buildCommand si son archivos estáticos puros
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
